<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=GB2312">

		<link rel="stylesheet" type="text/css"
			href="../../../rs/lib/ext-3.3.1/resources/css/ext-all.css" />
		<link rel="stylesheet" type="text/css"
			href="../../../rs/ext/resources/css/rs-ext-all.css" />
		<link rel="stylesheet" type="text/css"
			href="../../../rs/resources/css/rs-all.css" />

		<script src="../../../rs/lib/ext-3.3.1/adapter/ext/ext-base.js"></script>
		<script src="../../../rs/lib/ext-3.3.1/ext-all-debug.js"></script>
		<script src="../../../rs/rs-debug.js"></script>
		<script src="../../../rs/ext/rs-ext-debug.js"></script>

		<script src="../../../rs/lib/FusionCharts_v3/FusionCharts.js"></script>
		<script
			src="../../../rs/lib/FusionCharts_v3/FusionChartsExportComponent.js"></script>

		<script src="../../../rs/ext/chart/ChartPanel.js"></script>


		<title>图表组件案例</title>
		<script language="javascript" type="text/javascript">

		Ext.onReady(function() {

		    var store = new Rs.ext.data.Store({
		        autoLoad: true,
		        autoDestroy: true,
		        idProperty: 'month',
		        url: '/rsc/js/examples/fusioncharts/oo/o1.rsc',
		        fields: ['v1', 'v2', 'v3', 'month'],
		        baseParams: {
		            pm_flag: 'Y'
		        }
		    });

		    var chartPanel = new Rs.ext.chart.ChartPanel({
		        //refreshTime : 5000 ,
		        height: 500,
		        renderTo: 'div1',
		        chartType: 'MSColumn3DLineDY',

		        jsonData: {
		            "chart": {
		                "caption": "Sales Volume",
		                "pyaxisname": "Revenue",
		                "syaxisname": "Quantity",
		                "showvalues": "0",
		                "numberprefix": "$"
		            },
		            "categories": [{
		                "category": [{
		                    "label": "Jan"
		                },
		                {
		                    "label": "Feb"
		                },
		                {
		                    "label": "Mar"
		                },
		                {
		                    "label": "Apr"
		                },
		                {
		                    "label": "May"
		                },
		                {
		                    "label": "Jun"
		                },
		                {
		                    "label": "Jul"
		                },
		                {
		                    "label": "Aug"
		                },
		                {
		                    "label": "Sep"
		                },
		                {
		                    "label": "Oct"
		                },
		                {
		                    "label": "Nov"
		                },
		                {
		                    "label": "Dec"
		                }]
		            }],
		            "dataset": [{
		                "seriesname": "Revenue",
		                "data": [{
		                    "value": "1700000"
		                },
		                {
		                    "value": "610000"
		                },
		                {
		                    "value": "1420000"
		                },
		                {
		                    "value": "1350000"
		                },
		                {
		                    "value": "2140000"
		                },
		                {
		                    "value": "1210000"
		                },
		                {
		                    "value": "1130000"
		                },
		                {
		                    "value": "1560000"
		                },
		                {
		                    "value": "2120000"
		                },
		                {
		                    "value": "900000"
		                },
		                {
		                    "value": "1320000"
		                },
		                {
		                    "value": "1010000"
		                }]
		            },
		            {
		                "seriesname": "Quantity",
		                "parentyaxis": "S",
		                "data": [{
		                    "value": "340"
		                },
		                {
		                    "value": "120"
		                },
		                {
		                    "value": "280"
		                },
		                {
		                    "value": "270"
		                },
		                {
		                    "value": "430"
		                },
		                {
		                    "value": "240"
		                },
		                {
		                    "value": "230"
		                },
		                {
		                    "value": "310"
		                },
		                {
		                    "value": "430"
		                },
		                {
		                    "value": "180"
		                },
		                {
		                    "value": "260"
		                },
		                {
		                    "value": "200"
		                }]
		            }],
		            "trendlines": {
		                "line": [{
		                    "startvalue": "2100000",
		                    "color": "009933",
		                    "displayvalue": "Target"
		                }]
		            },
		            "styles": [{
		                "definition": [{
		                    "style": [{
		                        "name": "CanvasAnim",
		                        "type": "font",
		                        "type": "44"
		                    }]
		                }],
		                "application": [{
		                    "apply": [{
		                        "toobject": "Caption",
		                        "styles": "CanvasAnim"
		                    }]
		                }]
		            }]
		        }

		    });

		    //----------------------------------
		    Ext.apply(store.baseParams.metaData, {
		        limit: 20
		    });
		    var grid = new Ext.grid.EditorGridPanel({
		        autoHeight: true,
		        autoWidth: true,
		        store: store,
		        columns: [{
		            header: 'Month',
		            width: 75,
		            dataIndex: 'month'
		        },
		        {
		            header: 'Product A Sales',
		            width: 100,
		            sortable: true,
		            dataIndex: 'v1',
		            editor: new Ext.form.NumberField()
		        },
		        {
		            header: 'Product B Sales',
		            width: 100,
		            sortable: true,
		            editor: new Ext.form.NumberField(),
		            dataIndex: 'v2'
		        },
		        {
		            header: 'Total Downloads',
		            width: 75,
		            sortable: true,
		            editor: new Ext.form.NumberField(),
		            dataIndex: 'v3'
		        }],
		        tbar: [new Ext.Button({
		            text: '保存',
		            iconCls: 'rs-action-save',
		            handler: function() {
		                store.save();
		            },
		            scope: this
		        })],
		        bbar: new Rs.ext.grid.SliderPagingToolbar({
		            pageSize: 20,
		            hasSlider: true,
		            store: store,
		            displayInfo: true,
		            displayMsg: '共{2}条'
		        }),
		        stripeRows: true,
		        title: '表格',
		        renderTo: 'div2'
		    });
		    //grid.render('div2');
		});

</script>
	</head>
	<body>
<div>如果没有数据，请先创建测试表 
create table TEST_CHART
(
  MONTH NVARCHAR2(20),
  V1    NUMBER,
  V2    NUMBER,
  V3    NUMBER
)<br/>插入的数据SQL请查看本页面根目录下的SQL脚本</div>
<br/>
<br/>
<div>
	<div id="div1" style="float:left; margin:0px 5px;">
	</div>
	<div id="div2"  style="margin:0px 5px;">
	</div>
</div>
	</body>
</html>